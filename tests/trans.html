<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Testing plugd.trans</title>
		<script type="text/javascript" src="../../dojo/dojo.js" djConfig="isDebug: true"></script>
		<script type="text/javascript" src="../base.js"></script>
		<script type="text/javascript" src="../trans.js"></script>
		
		<script type="text/javascript">
			dojo.require("doh.runner");
			dojo.require("dojo.NodeList-manipulate");

			dojo.addOnLoad(function(){
				doh.register("t", 
					[
					
//						function prepend(t){
//							
//							dojo.query("#pa").prepend("<span>before:</span>");
//							var s = dojo.query("#pa span");
//							t.is(1, s.length);
//							t.is("before:", s[0].innerHTML);
//							
//						},
						
//						function prepend_td(t){
//							var tds = dojo.query("td"); 
//							var x = tds.prepend("<p>touched:</p>");
//							
//							t.is(tds.length, x.length);
//							
//							t.is(tds.length, dojo.query("td p").length)
//						},
						
						function content(t){
							
							var h = dojo.query(".first").text();
							t.is("first", dojo.trim(h));
							
						},
						
						function content_set(t){
							var h = dojo.query(".first").content("<p>reset</p>");
							
							t.is(1, h.length);
							t.is("<p>reset</p>", dojo.trim(h[0].innerHTML.toLowerCase()));
						},
						
						function before(t){
							
							var n = dojo.query("#pa").before("<div id='pa2'>pa</div>");
							var x = dojo.query("#pa2 + #pa").length;
							t.is(1, x);
							
						},
						
						function after(t){
							
							dojo.query("#pa").after("<div id='pa3'>pa</div>");
							var x = dojo.query("#pa + #pa3").length;
							t.is(1, x);
							
						},
						
						function replace(t){
							dojo.query("#foobarbaz").replace("<div id='replacedfoo'>replaced.</div>");
							t.is(0, dojo.query("#foobarbaz").length);
							t.is(1, dojo.query("#replacedfoo").length);
						},
						
						// TODO: write unit tests and code for:
						
						function parent(){
							
						},
						
						function parents(){
							
						},
						
						function children(){
							
						},
						
						function next(){
							
						},
						
						function prev(){
							
						},
						
						function closest(t){
							
						}
						
					]
				);
				doh.run();
			});
		</script>
	</head>
	<body>
		
		<ul id="first">
			<li class="first">first</li>
		</ul>
		
		<table>
			<tbody>
				<tr>
					<td>one</td><td>two</td><td class="last">last</td>
				</tr>
			</tbody>
		</table>

		<div id="around">
			<p id="pa">lorem</p>
		</div>
		
		<div id="foobarbaz">replace me</div>
		
	</body>
</html>
